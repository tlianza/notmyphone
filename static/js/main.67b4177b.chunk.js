(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(45)},22:function(e,t,n){},37:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(12),s=n.n(c),i=(n(22),n(23),n(15)),r=n(1),l=n(2),u=n(4),m=n(3),h=n(5),d=n(13),f=n.n(d),p=function(e){var t=e.name,n=e.message,a=(e.icon,e.arrivalTime);return o.a.createElement("div",{className:"card text-white"},o.a.createElement("div",{className:"card-text"},o.a.createElement("h5",null,t),n),o.a.createElement("div",{className:"card-footer"},o.a.createElement("small",{className:"text-muted"},o.a.createElement(f.a,{date:a}))))},g=n(14),v=n.n(g),w=n(8),b=n.n(w),k=(n(37),"https://www.pushbullet.com/authorize?client_id=".concat("yV56z5euFLaZM8byC87MWhq3k9WKmprK","&redirect_uri=").concat(encodeURIComponent("https://notmyphone.com/auth"),"&response_type=code&scope=everything")),y=5,E=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={messages:[]},n.ws=new WebSocket(n.getEventURL()),n.dismissMessage=function(e){console.log("Asked to dismiss something.");for(var t=n.state.messages,a=t.length;a--;){var o=t[a];o.notification_id===e.notification_id&&o.notification_tag===e.notification_tag&&t.splice(a,1)}n.setState(function(e){return{messages:t}})},n.addMessage=function(e){if(n.state.messages.length>=y){var t=n.state.messages.shift();console.log("Shifted a message out: "),console.log(t)}n.setState(function(t){return{messages:[e].concat(Object(i.a)(t.messages))}})},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getEventURL",value:function(){return"wss://stream.pushbullet.com/websocket/"+new URLSearchParams(window.location.search).get("auth")}},{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("connected")},this.ws.onmessage=function(t){var n=JSON.parse(t.data);"push"===n.type&&(console.log("Event is a push..."),console.log(n),"dismissal"!==n.push.type?(n.push.arrivalTime=new Date,e.addMessage(n.push)):e.dismissMessage(n.push))},this.ws.onclose=function(){console.log("websocket disconnected"),e.setState({ws:new WebSocket(e.getEventURL())})}}},{key:"render",value:function(){return o.a.createElement("div",{className:"notifications card-deck"},this.state.messages.map(function(e,t){return o.a.createElement(p,{key:t,message:e.body,name:e.application_name,icon:e.icon,arrivalTime:e.arrivalTime})}))}}]),t}(a.Component),O=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{class:"clock"},o.a.createElement(v.a,{format:"hh:mm a",ticking:!0}))}}]),t}(a.Component),j=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(){window.location.reload()}},{key:"render",value:function(){return o.a.createElement(b.a,{variant:"light",size:"sm",onClick:this.handleClick},"\u21bb")}}]),t}(a.Component),C=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(){window.location.href=k}},{key:"render",value:function(){return o.a.createElement(b.a,{variant:"light",size:"sm",onClick:this.handleClick},"Login")}}]),t}(a.Component);var N=function(){return o.a.createElement("div",{className:"App container"},o.a.createElement(O,null),o.a.createElement(E,null),o.a.createElement("div",{id:"button-tray",className:"fixed-bottom"},o.a.createElement(C,null),"\xa0",o.a.createElement(j,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.67b4177b.chunk.js.map