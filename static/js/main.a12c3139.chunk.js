(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,n,t){e.exports=t(20)},17:function(e,n,t){},19:function(e,n,t){},20:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),c=t(7),s=t.n(c),r=(t(17),t(18),t(10)),l=t(1),i=t(2),u=t(4),m=t(3),h=t(5),p=function(e){var n=e.name,t=e.message,o=e.icon,c={src:"data:image/jpeg;base64, "+o,alt:n};return a.a.createElement("p",null,o&&a.a.createElement("img",c),a.a.createElement("strong",null,n)," ",a.a.createElement("em",null,t))},d=t(8),w=t.n(d),g=t(9),f=t.n(g),v=(t(19),"https://www.pushbullet.com/authorize?client_id=".concat("yV56z5euFLaZM8byC87MWhq3k9WKmprK","&redirect_uri=").concat(encodeURIComponent("https://notmyphone.com/auth"),"&response_type=code&scope=everything")),b=function(e){function n(){var e,t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(a)))).state={messages:[]},t.ws=new WebSocket(t.getEventURL()),t.addMessage=function(e){return t.setState(function(n){return{messages:[e].concat(Object(r.a)(n.messages))}})},t}return Object(h.a)(n,e),Object(i.a)(n,[{key:"getEventURL",value:function(){return"wss://stream.pushbullet.com/websocket/"+new URLSearchParams(window.location.search).get("auth")}},{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("connected")},this.ws.onmessage=function(n){var t=JSON.parse(n.data);"push"===t.type&&(console.log("Event is a push..."),console.log(t),e.addMessage(t.push))},this.ws.onclose=function(){console.log("disconnected"),e.setState({ws:new WebSocket(e.getEventURL())})}}},{key:"render",value:function(){return a.a.createElement("div",null,this.state.messages.map(function(e,n){return a.a.createElement(p,{key:n,message:e.body,name:e.application_name,icon:e.icon})}))}}]),n}(o.Component),y=function(e){function n(){return Object(l.a)(this,n),Object(u.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(i.a)(n,[{key:"componentDidMount",value:function(){this.$el=f()(this.el),console.log("MOUNTED"),console.log(this.el);new Date;new w.a(this.el,{face:"TwelveHourClock",showSeconds:!1}).start()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("div",{className:"clock",ref:function(n){return e.el=n}}))}}]),n}(o.Component);var E=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(y,null),a.a.createElement(b,null),a.a.createElement("a",{href:v,rel:"noopener noreferrer"},"Pushbullet Login"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.a12c3139.chunk.js.map