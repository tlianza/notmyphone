(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){},16:function(e,n,t){},17:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),c=t(2),s=t.n(c),r=(t(15),t(6)),i=t(3),l=t(4),u=t(7),m=t(5),p=t(8),h=function(e){var n=e.name,t=e.message,a=e.icon,c={src:"data:image/jpeg;base64, "+a,alt:n};return o.a.createElement("p",null,a&&o.a.createElement("img",c),o.a.createElement("strong",null,n)," ",o.a.createElement("em",null,t))},d=(t(16),"https://www.pushbullet.com/authorize?client_id=".concat("yV56z5euFLaZM8byC87MWhq3k9WKmprK","&redirect_uri=").concat(encodeURIComponent("https://notmyphone.com/"),"%2Fauth&response_type=code&scope=everything")),g=function(e){function n(){var e,t;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(o)))).state={messages:[]},t.ws=new WebSocket(t.getEventURL()),t.addMessage=function(e){return t.setState(function(n){return{messages:[e].concat(Object(r.a)(n.messages))}})},t}return Object(p.a)(n,e),Object(l.a)(n,[{key:"getEventURL",value:function(){return"wss://stream.pushbullet.com/websocket/"+new URLSearchParams(window.location.search).get("auth")}},{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("connected")},this.ws.onmessage=function(n){var t=JSON.parse(n.data);"push"===t.type&&(console.log("Event is a push..."),console.log(t),e.addMessage(t.push))},this.ws.onclose=function(){console.log("disconnected"),e.setState({ws:new WebSocket(e.getEventURL())})}}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.messages.map(function(e,n){return o.a.createElement(h,{key:n,message:e.body,name:e.application_name,icon:e.icon})}))}}]),n}(a.Component);var w=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("a",{href:d,rel:"noopener noreferrer"},"Pushbullet Login"),o.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,n,t){e.exports=t(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.f77e3da9.chunk.js.map